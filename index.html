<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scratch Extensions Hub</title>
<style>
  body { font-family: "Helvetica Neue", Arial, sans-serif; background: #f8f8f8; margin: 0; padding: 20px; color: #333; }
  h1, h2 { font-weight: bold; }
  h1 { color: #ff7f50; }
  .container { max-width: 900px; margin: 0 auto; }
  .extensions-section { background: #fff; border-radius: 12px; padding: 16px; margin-bottom: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
  .extension-card { display: flex; flex-direction: column; background: #fefefe; border-radius: 12px; padding: 12px; margin-bottom: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  .extension-title { font-weight: bold; font-size: 16px; margin-bottom: 4px; }
  .extension-url { font-size: 12px; color: #555; word-break: break-all; margin-bottom: 6px; }
  .extension-buttons { display: flex; gap: 6px; }
  button { background: #ff7f50; border: none; color: white; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: bold; }
  button:hover { background: #ff6333; }
  .toast { position: fixed; bottom: 20px; right: 20px; background: #333; color: white; padding: 10px 14px; border-radius: 8px; opacity: 0.9; }
</style>
</head>
<body>
<div class="container">
  <h1>Scratch Extensions Hub</h1>

  <div class="extensions-section">
    <h2>Available Extensions</h2>
    <div id="extensionsContainer"></div>
  </div>
</div>

<div id="toast" class="toast" style="display:none;"></div>

<script>
let extensions = [];

// Show toast message
function showToast(msg, duration=2000){
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.style.display = 'block';
  setTimeout(()=>toast.style.display='none', duration);
}

// Render extension cards
function renderExtensions() {
  const container = document.getElementById('extensionsContainer');
  container.innerHTML = '';
  extensions.forEach((ext)=>{
    const card = document.createElement('div');
    card.className = 'extension-card';

    const title = document.createElement('div');
    title.className = 'extension-title';
    title.textContent = ext.name;
    card.appendChild(title);

    const url = document.createElement('div');
    url.className = 'extension-url';
    url.textContent = ext.url;
    card.appendChild(url);

    const desc = document.createElement('div');
    desc.textContent = ext.description;
    card.appendChild(desc);

    const btnContainer = document.createElement('div');
    btnContainer.className = 'extension-buttons';

    const copyBtn = document.createElement('button');
    copyBtn.textContent = 'Copy URL';
    copyBtn.onclick = ()=>navigator.clipboard.writeText(ext.url).then(()=>showToast('URL copied!'));
    btnContainer.appendChild(copyBtn);

    const openBtn = document.createElement('button');
    openBtn.textContent = 'Open';
    openBtn.onclick = ()=>window.open("https://studio.penguinmod.com/editor.html?extension=" + ext.url,'_blank');
    btnContainer.appendChild(openBtn);

    card.appendChild(btnContainer);
    container.appendChild(card);
  });
}

// Load from JSON file
function loadJSON(){
  fetch('extensions.json')
    .then(resp=>resp.json())
    .then(data=>{
      extensions = data;
      renderExtensions();
    })
    .catch(err=>{
      console.error('Failed to load JSON', err);
      showToast('Failed to load extensions JSON');
    });
}

loadJSON();
</script>
</body>
</html>
